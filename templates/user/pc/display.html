{% extends "index.html" %}

{% block title %}{{data['user']}}の个人中心{% endblock %}

{% block css %}
<link rel="stylesheet" href="/static/highlight/styles/vs.min.css" />
<link rel="stylesheet" href="/static/css/user/pc/display.css" />
{% endblock %}

{% block mdv %}
<script src="/static/js/markdown/showdown-toc.js" ></script>
<script src="https://unpkg.com/showdown/dist/showdown.min.js"></script>
<script src="/static/highlight/highlight.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css"
    integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js"
    integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8"
    crossorigin="anonymous"></script>
<script defer src="https://cdn.bootcss.com/KaTeX/0.11.1/contrib/auto-render.min.js"></script>
<script src="/static/js/user/pc/display.js"></script>
<main>
    <div class="display-header">
        <div class="display-header-top">
            <img class="display-user-photo" src="{{data['photo']}}">
            <div class="display-user-info">
                <div class="display-user-name-box">
                    <p class="display-user-name">{{data['user']}}</p>
                    <div class="display-user-titles">
                        <span class="lvl lv{{data['lvl']}}"
                            style="background-image: linear-gradient(to right, rgb({{12 + 243 - data['lvl'] * 12}}, {{12 + 243 - data['lvl'] * 12}}, {{12 + 243 - data['lvl'] * 12}}) {{data['exp'] / data['max_exp'] * 100}}%, {% if data['lvl']> 0 %}rgb({{12 + 255 - data['lvl'] * 12}}, {{12 + 255 - data['lvl'] * 12}}, {{12 + 255 - data['lvl'] * 12}}{% else %}grey{% endif %}  0)">
                            Lv.{{data['lvl']}}
                        </span>
                        {% if data['admin'] > 0 %}
                        <span class="admin ad{{data['admin']}}">管理员</span>
                        {% endif %}
                        {% for i in data['titles'] %}
                        <span class={{i['class']}}>{{i['text']}}</span>
                        {% endfor %}
                    </div>
                </div>
                <p class="display-user-personalized">
                    {{data['personalized'] if(data['personalized']) else '此人很懒，啥都没留'}}
                </p>
                <input type="text" class="display-personalized-modify">
            </div>
            <div class="display-user-action">
                <a href="/blog/{{data['_uid']}}">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline">
                        <path fill="currentColor"
                            d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z">
                        </path>
                    </svg>
                    个人博客
                </a>
                {% if data['is_mine'] %}
                <a href="/user/settings">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline">
                        <path fill="currentColor"
                            d="M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z">
                        </path>
                    </svg>
                    用户设置
                </a>
                {% else %}

                {% endif %}
            </div>
        </div>
        <div class="display-header-bottom">
            <div class="display-menu">
                <ul class="display-menu-items">
                    <li><a class="entry selected" href="#main">
                            主页
                        </a>
                    </li>
                    <li><a class="entry" href="#activity">
                            动态
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="display-main">
        <div id="page-main" style="display: none;">
            <div class="display-main-middle">
                <div class="card">
                    {% if data['is_mine'] %}
                    <button id="edit">编辑</button>
                    {% endif %}
                    <h3>个人介绍</h3>
                    {% if data['is_mine'] %}
                    <script src="https://unpkg.com/stackedit-js@1.0.7/docs/lib/stackedit.min.js"></script>
                    <textarea style="display: none;">{{data['introduction']
                        if(data['introduction']) else ("
# 欢迎使用Markdown编辑器

你好！ 这是你第一次使用 **Markdown编辑器** 所展示的欢迎页。如果你想学习如何使用Markdown编辑器, 可以仔细阅读这篇文章，了解一下Markdown的基本语法知识。

## 新的改变
我们对Markdown编辑器进行了一些功能拓展与语法支持，除了标准的Markdown编辑器功能，我们增加了如下几点新功能，帮助你用它写博客：

1.  **全新的界面设计** ，将会带来全新的写作体验；
2. 在创作中心设置你喜爱的代码高亮样式，Markdown **将代码片显示选择的高亮样式** 进行展示；
3. 增加了 **图片拖拽** 功能，你可以将本地的图片直接拖拽到编辑区域直接展示；
4. 全新的 **KaTeX数学公式** 语法；
5. 增加了 **多屏幕编辑** Markdown文章功能；
6. 增加了 **焦点写作模式、预览模式、简洁写作模式、左右区域同步滚轮设置** 等功能，功能按钮位于编辑区域与预览区域中间；

## 功能快捷键
撤销：<kbd>Ctrl/Command</kbd> + <kbd>Z</kbd>
重做：<kbd>Ctrl/Command</kbd> + <kbd>Y</kbd>
加粗：<kbd>Ctrl/Command</kbd> + <kbd>B</kbd>
斜体：<kbd>Ctrl/Command</kbd> + <kbd>I</kbd>
标题：<kbd>Ctrl/Command</kbd> + <kbd>Shift</kbd> + <kbd>H</kbd>
无序列表：<kbd>Ctrl/Command</kbd> + <kbd>Shift</kbd> + <kbd>U</kbd>
有序列表：<kbd>Ctrl/Command</kbd> + <kbd>Shift</kbd> + <kbd>O</kbd>
检查列表：<kbd>Ctrl/Command</kbd> + <kbd>Shift</kbd> + <kbd>C</kbd>
插入代码：<kbd>Ctrl/Command</kbd> + <kbd>Shift</kbd> + <kbd>K</kbd>
插入链接：<kbd>Ctrl/Command</kbd> + <kbd>Shift</kbd> + <kbd>L</kbd>
插入图片：<kbd>Ctrl/Command</kbd> + <kbd>Shift</kbd> + <kbd>G</kbd>
查找：<kbd>Ctrl/Command</kbd> + <kbd>F</kbd>
替换：<kbd>Ctrl/Command</kbd> + <kbd>G</kbd>

## 如何改变文本的样式

*强调文本*  _强调文本_
**加粗文本**  __加粗文本__
==标记文本==
~~删除文本~~
> 引用文本
H~2~O is是液体。
2^10^ 运算结果是 1024.

## 插入链接与图片

链接: [link](https://sakuyark.com/).
图片: ![Alt](https://sakuyark.com/static/images/icon.jpg)
带尺寸的图片: ![Alt](https://sakuyark.com/static/images/icon.jpg =30x30)
居中的图片: ![Alt](https://sakuyark.com/static/images/icon.jpg#pic_center)
居中并且带尺寸的图片: ![Alt](https://sakuyark.com/static/images/icon.jpg#pic_center =30x30)

## 如何插入一段漂亮的代码片
下面展示同样高亮的 `代码片`.
```javascript
// An highlighted block
var foo = 'bar';
```

## 生成一个适合你的列表
- 项目
- 项目
- 项目

1. 项目1
2. 项目2
3. 项目3

- [ ] 计划任务
-  [x] 完成任务

## 创建一个表格

一个简单的表格是这么创建的：

| 项目 | Value |
| ---- | ----- |
| 电脑 | $1600 |
| 手机 | $12 |
| 导管 | $1 |

### 设定内容居中、居左、居右

使用`:---------:`居中
使用`:----------`居左
使用`----------:`居右

| 第一列 | 第二列 | 第三列 |
| :------------: | -------------: | :------------- |
| 第一列文本居中 | 第二列文本居右 | 第三列文本居左 |

### SmartyPants

SmartyPants将ASCII标点字符转换为“智能”印刷标点HTML实体。例如：

| TYPE | ASCII | HTML |
| ---------------- | ------------------------------- | ----------------------------- |
| Single backticks | `'Isn't this fun?'` | 'Isn't this fun?' |
| Quotes | `\"Isn't this fun?\"` | \"Isn't this fun?\" |
| Dashes | `-- is en-dash, --- is em-dash` | -- is en-dash, --- is em-dash |

## KaTeX数学公式

您可以使用渲染LaTeX数学表达式 [KaTeX](https://khan.github.io/KaTeX/):
Gamma公式展示 $\Gamma(n) = (n-1)!\quad\forall
n\in\mathbb N$ 是通过欧拉积分
$$
\Gamma(z) = \int_0^\infty t^{z-1}e^{-t}dt\,.
$$
> 你可以找到更多关于的信息 **LaTeX** 数学表达式[here][1].

[1]: http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference
")}}</textarea>
                    {% endif %}
                    <div class="display-main-introduction" style="display: none;">{{data['introduction']
                        if(data['introduction']) else '这个人很懒，什么都没写'}}</div>
                </div>
            </div>
            <div class="display-main-right" >
                <div class="card">
                    <div>
                        <span>
                            <span>用户编号</span>
                        </span>
                        <span>{{data['_uid']}}</span>
                    </div>
                </div>
            </div>
        </div>
        <div id="page-activity" class="card" style="display: none;">

        </div>
    </div>
</main>
{% endblock %}